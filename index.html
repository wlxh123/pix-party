<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>PROJECT PIX</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-black text-white">

<header class="fixed top-0 w-full z-50 bg-black/80 border-b border-white/10">
  <div class="max-w-7xl mx-auto flex justify-between items-center px-6 py-4">
    <div class="text-xl font-bold tracking-widest">PIX</div>
    <div class="flex gap-6 text-sm">
      <a href="#story">스토리</a>
      <a href="#party">파티 일정</a>
      <a href="#join">신청하기</a>
    </div>
  </div>
</header>

<main class="pt-20">

<section class="relative h-screen flex items-center justify-center">
  <img src="party1.png" class="absolute inset-0 w-full h-full object-cover opacity-40">
  <div class="relative text-center">
    <h1 class="text-4xl md:text-6xl font-extrabold mb-6">
      우리가 고른 밤,<br>우리가 FIX합니다
    </h1>
  </div>
</section>

<section id="story" class="py-32 px-6 max-w-4xl mx-auto border-b border-white/5">
  <div class="grid md:grid-cols-2 gap-12 items-center">
    <div>
      <h2 class="text-3xl font-bold mb-8 italic text-white/90">PIX의 시작 (The Origin)</h2>
      <p class="text-gray-300 leading-relaxed space-y-4">
        우리도 한때는 여러분과 똑같은 '게스트'였습니다.<br><br>
        술 한잔에 설레고, 새로운 인연을 기대하며 신촌의 수많은 파티를 전전하던 친구들이 모였습니다. 하지만 늘 2% 아쉬웠습니다.<br><br>
        "왜 항상 뻔한 게임만 할까?"<br>
        "분위기가 어색할 때 왜 스태프는 아무것도 안 해주지?"<br>
        "데이터로 매칭해 주면 더 잘 통할 텐데..."<br><br>
        그 아쉬움이 모여 PROJECT PIX가 시작되었습니다. 우리가 가고 싶어서 직접 만든, 신촌에서 가장 감각적인 밤.
      </p>
    </div>
    <img src="party2.png" class="rounded-2xl opacity-70 border border-white/10 shadow-2xl">
  </div>
</section>

<section id="party" class="py-32 px-6 max-w-4xl mx-auto">
  <h2 class="text-3xl font-bold text-center mb-16 tracking-widest">UPCOMING PARTY</h2>
  
  <div class="bg-gradient-to-br from-white/10 to-transparent border border-white/20 p-8 rounded-3xl shadow-xl">
    <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4">
      <div>
        <span class="bg-blue-600 text-white px-4 py-1 text-xs font-bold rounded-full tracking-tighter">RECRUITING</span>
        <h3 class="text-3xl font-bold mt-4">2월 6일 (금) | 신촌</h3>
        
        <div class="flex gap-6 mt-4">
          <div class="flex flex-col">
            <span class="text-xs text-gray-500 uppercase mb-1">Men</span>
            <span class="text-blue-400 font-mono text-lg">8 / 12 <small class="text-gray-600">(여석 4)</small></span>
          </div>
          <div class="flex flex-col">
            <span class="text-xs text-gray-500 uppercase mb-1">Women</span>
            <span class="text-pink-400 font-mono text-lg">10 / 12 <small class="text-gray-600">(여석 2)</small></span>
          </div>
        </div>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-gray-300">
      <div class="p-4 bg-white/5 rounded-xl"><p class="text-xs text-gray-500 mb-1 font-bold">1차 일정</p><p class="text-white">20:30 – 23:30</p></div>
      <div class="p-4 bg-white/5 rounded-xl"><p class="text-xs text-gray-500 mb-1 font-bold">2차 일정</p><p class="text-white">24:00 – 02:30</p></div>
      <div class="p-4 bg-white/5 rounded-xl border border-white/10"><p class="text-xs text-gray-500 mb-1 font-bold">장소</p><p class="text-white">신촌역 인근 개별공지</p></div>
    </div>
  </div>
</section>

<section id="join" class="py-32 px-6 max-w-xl mx-auto">
  <div class="text-center mb-12">
    <h2 class="text-3xl font-bold mb-4">JOIN US</h2>
    <p class="text-yellow-400 text-sm font-bold">🎉 지금 바로 신청이 가능합니다!</p>
  </div>

  <form id="pix-form" onsubmit="submitToGoogleForm(event)" class="space-y-6">
    <select id="formUrl" required class="w-full bg-black border-b border-white/30 py-3 focus:border-white focus:outline-none transition-all">
      <option value="">참여 날짜 선택</option>
      <option value="https://docs.google.com/forms/d/e/1FAIpQLSe1uOnq_r8W16u1kaZNo326NOw2kYdTHwGhbUm4MNS58RzJMg/formResponse">2월 6일 (금) 신촌</option>
    </select>

    <div class="grid grid-cols-2 gap-6">
      <input name="entry.1271163545" required placeholder="이름" class="w-full bg-transparent border-b border-white/30 py-3 focus:border-white focus:outline-none transition-all">
      <input name="entry.2043201145" required placeholder="나이" class="w-full bg-transparent border-b border-white/30 py-3 focus:border-white focus:outline-none transition-all">
    </div>
    <input name="entry.84832899" id="userPhone" required placeholder="전화번호" class="w-full bg-transparent border-b border-white/30 py-3 focus:border-white focus:outline-none transition-all">
    
    <select name="entry.1285611880" id="gender" required class="w-full bg-black border-b border-white/30 py-3 focus:border-white focus:outline-none transition-all text-white">
      <option value="">성별 선택</option>
      <option value="남">남자</option>
      <option value="여">여자</option>
    </select>

    <div class="grid grid-cols-2 gap-6">
      <input name="entry.1251778023" placeholder="직업" class="w-full bg-transparent border-b border-white/30 py-3 focus:border-white focus:outline-none transition-all">
      <input name="entry.1839414996" placeholder="MBTI" class="w-full bg-transparent border-b border-white/30 py-3 focus:border-white focus:outline-none transition-all">
    </div>
    <input name="entry.528781690" placeholder="취미" class="w-full bg-transparent border-b border-white/30 py-3 focus:border-white focus:outline-none transition-all">
    <input name="entry.790058610" placeholder="이상형" class="w-full bg-transparent border-b border-white/30 py-3 focus:border-white focus:outline-none transition-all">

    <button type="submit" class="w-full bg-white text-black py-5 font-black hover:bg-gray-200 transition-colors uppercase tracking-widest mt-4">
      Apply Now
    </button>
  </form>
</section>

<section id="account" class="py-32 px-6 max-w-xl mx-auto hidden text-center">
  <div class="bg-white/5 p-10 rounded-3xl border border-white/20">
    <h2 class="text-3xl font-black mb-10 tracking-widest text-white uppercase">Confirmation</h2>
    <p id="accountInfo" class="mb-10 text-xl leading-relaxed text-gray-300"></p>
    
    <div class="bg-white text-black p-8 rounded-2xl mb-8 shadow-2xl">
      <p class="text-xs font-bold text-gray-500 mb-2 italic">ACCOUNT INFO</p>
      <p class="text-lg font-bold">새마을금고</p>
      <p class="text-2xl font-black tracking-tighter">9003 2636 77387</p>
      <p class="text-md mt-1 font-bold uppercase">Han Dong Ho</p>
    </div>
    
    <a id="smsBtn" href="#" class="block w-full bg-green-600 text-white py-4 rounded-xl font-bold mb-6 hover:bg-green-500 transition-all shadow-lg">
      입금 완료 후 확인문자 보내기
    </a>

    <p class="text-gray-500 text-xs leading-relaxed">
      입금자명은 <b>이름 + 전화번호 뒤 2자리</b>로 부탁드립니다.<br>
      입금 확인 후 24시간 이내로 확정 문자가 발송됩니다.
    </p>
  </div>
</section>

</main>

<footer class="py-20 text-center text-gray-600 text-xs tracking-[0.3em]">
  © PROJECT PIX
</footer>

<script>
  function submitToGoogleForm(e) {
    e.preventDefault();
    const googleFormUrl = document.getElementById("formUrl").value;
    const formData = new FormData(document.getElementById("pix-form"));
    
    // 문자 자동 작성을 위한 데이터 수집
    const userName = document.querySelector('input[name="entry.1271163545"]').value;
    const dateText = document.getElementById("formUrl").options[document.getElementById("formUrl").selectedIndex].text;

    fetch(googleFormUrl, {
      method: "POST",
      mode: "no-cors",
      body: formData
    }).then(() => {
      const gender = document.getElementById("gender").value;
      let price = (gender === "남") ? "40,000원" : "25,000원";

      // 문자 링크 셋팅 (동호님 번호 010-5741-6107로 연결)
      const smsMessage = `PIX 파티 신청했습니다! \n성함: ${userName} \n날짜: ${dateText} \n입금 완료했습니다. 확인 부탁드려요!`;
      document.getElementById("smsBtn").href = `sms:01057416107?body=${encodeURIComponent(smsMessage)}`;

      document.getElementById("accountInfo").innerHTML = 
        `<span class="text-sm">Thank you, ${userName}.</span><br>
         <b>${dateText}</b> 파티 참가비<br>
         <span class="text-3xl font-black text-white">${price}</span>`;
      
      document.getElementById("join").classList.add("hidden");
      document.getElementById("account").classList.remove("hidden");
      window.scrollTo({ top: document.getElementById("account").offsetTop - 100, behavior: "smooth" });
    }).catch(err => alert("오류가 발생했습니다. 다시 시도해주세요."));
  }
</script>

</body>
</html>
